var code="",checkCode=document.getElementById("checkCode"),createCode=function(){code="";checkCode.value="";for(var e=new Array(0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","U","V","W","X","Y","Z"),o=0;o<4;o++){var n=Math.floor(35*Math.random());code+=e[n]}4!=code.length&&createCode(),document.getElementById("checkCode").innerHTML=code};createCode(),checkCode.addEventListener("click",function(){createCode()});var changeCode=document.getElementById("changeCode");changeCode.addEventListener("click",function(){createCode()});var logintwo_test=document.getElementById("logintwo_test"),inputCode=document.getElementById("logintwo_test").value.toUpperCase(),validate=function(){return inputCode.length<=0?(alert("请输入验证码！"),!1):inputCode!=code?(alert("验证码输入错误！"),createCode(),logintwo_test.value="",!1):(alert("验证码通过！"),!0)};logintwo_test.addEventListener("blur",function(){inputCode=document.getElementById("logintwo_test").value.toUpperCase(),validate()});var rightcode=$("#rightcode"),erweima=$("#erweima"),loginone=$("#loginone");rightcode.on("click",function(){"erweimacode"==rightcode.attr("class")?(rightcode.removeClass("erweimacode"),rightcode.addClass("pc"),erweima.css("display","block"),loginone.css("display","none")):(rightcode.removeClass("pc"),rightcode.addClass("erweimacode"),loginone.css("display","block"),erweima.css("display","none"))});var left_login=$("#left_login"),right_login=$("#right_login"),logintwo=$("#logintwo"),tipone=$("#tipone");rightcode=$("#rightcode");left_login.on("click",function(){logintwo.css("display","none"),loginone.css("display","block"),tipone.css("display","block"),rightcode.css("display","block"),left_login.css("border-bottom","2px solid #108cee"),right_login.css("border-bottom","none"),erweima.css("display","none"),rightcode.removeClass("pc"),rightcode.addClass("erweimacode")}),right_login.on("click",function(){loginone.css("display","none"),tipone.css("display","none"),logintwo.css("display","block"),rightcode.css("display","none"),left_login.css("border-bottom","none"),right_login.css("border-bottom","2px solid #108cee"),erweima.css("display","none")});var username=$("#uname"),loginerror=$("#loginerror");username.on("blur",function(){var o=null;o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHttp");var e="../php/check-name.php?uname="+username.val();o.open("get",e,!0),o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){var e=o.responseText;"true"==JSON.parse(e)?(loginerror.text("用户名不存在"),username.css("outline","none"),username.css("border-color","red")):(loginerror.text("用户名可登录"),username.css("outline","none"),username.css("border-color","#bdc7d3"))}},o.send(null)});loginone=$("#loginone");var submit=$("#submit");submit.on("mouseover",function(){"用户名可登录"==loginerror.text()?loginone.attr("action","../php/login.php"):loginone.removeAttr("action")});