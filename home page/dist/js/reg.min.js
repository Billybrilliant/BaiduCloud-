var userName=$("#_san_13"),form=$("#_san_7"),submit=$("#_san_45"),userReg=/^[A-Za-z\d_-]{6,32}$/,userError=$("#_san_81");userName.on("keyup",function(){userReg.test(userName.val())&&(userName.css("border-color","#ccc"),userError.text("")),userReg.test(userName.val())||(userName.css("outline","none"),userName.css("border-color","red"),userError.text("用户名长度必须是6-32个字符之间")),""==userName.val()&&(userName.css("outline","none"),userError.text("用户名必填"),userName.css("border-color","red"))}),userName.on("blur",function(){var r=null;r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHttp");var e="../php/check-name.php?uname="+userName.val();r.open("get",e,!0),r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){var e=r.responseText;"true"==JSON.parse(e)||(form.removeAttr("action"),userName.css("outline","none"),userName.css("border-color","red"),userError.text("用户名已存在"))}},r.send(null)});var pwd=$("#_san_19"),pwdReg=/^.*(?=.{6,32})(?=.*\d)(?=.*[A-Z])(?=.*[a-z]).*$/,pwdError=$("#_san_57");pwd.on("keyup",function(){pwdReg.test(pwd.val())&&(pwd.css("border-color","#ccc"),pwdError.text("")),pwd.val().length<=6&&(pwd.css("outline","none"),pwd.css("border-color","red"),pwdError.text("密码长度必须是6-32个字符之间")),6<pwd.val().length&&!pwdReg.test(pwd.val())&&(pwd.css("outline","none"),pwd.css("border-color","red"),pwdError.text("密码必须包含数字、大小写英文字母")),""==pwd.val()&&(pwd.css("outline","none"),pwdError.text("密码必填"),pwd.css("border-color","red"))});var pwdCheck=$("#_san_25"),pwdCheckReg=/^.*(?=.{6,32})(?=.*\d)(?=.*[A-Z])(?=.*[a-z]).*$/,pwdCheckError=$("#_san_59");pwdCheck.on("keyup",function(){pwdCheckReg.test(pwdCheck.val())&&pwdCheck.val()===pwd.val()&&(pwdCheck.css("border-color","#ccc"),pwdCheckError.text("")),pwdCheck.val().length<=6&&(pwdCheck.css("outline","none"),pwdCheck.css("border-color","red"),pwdCheckError.text("确认密码长度必须是6-32个字符之间")),6<pwdCheck.val().length&&!pwdCheckReg.test(pwdCheck.val())&&(pwdCheck.css("outline","none"),pwdCheck.css("border-color","red"),pwdCheckError.text("确认密码必须包含数字、大小写英文字母")),pwdCheckReg.test(pwdCheck.val())&&pwdCheck.val()!=pwd.val()&&(pwdCheck.css("outline","none"),pwdCheck.css("border-color","red"),pwdCheckError.text("两次输入的内容不一致")),""==pwdCheck.val()&&(pwdCheck.css("outline","none"),pwdCheckError.text("确认密码必填"),pwdCheck.css("border-color","red"))}),submit.on("mouseover",function(){1==userReg.test(userName.val())&&1==pwdReg.test(pwd.val())&&1==pwdCheckReg.test(pwdCheck.val())&&pwdCheck.val()===pwd.val()==1?form.attr("action","../php/reg.php"):form.removeAttr("action")});